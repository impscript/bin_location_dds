# DDS Warehouse Management System ‚Äî Development Plan v3

> **‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 2026-02-13  
> **‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** üìã Design & Review ‚Äî Finalized Decisions

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß |
|--------|------------|
| **Supabase Project** | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ä‡∏∑‡πà‡∏≠ `dds-bin-location` ‡∏ú‡πà‡∏≤‡∏ô MCP |
| **User Roles** | Admin, Warehouse, Accounting (3 roles) |
| **Stock Count** | ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Zone ‡πÑ‡∏î‡πâ + tracking ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ 100% + ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö + ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô |
| **Import Strategy** | Upsert ‡πÉ‡∏ô Transaction (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢) |

---

## 1. ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (As-Is)

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|-----------|
| **Tech Stack** | React 18 + Vite + Tailwind CSS |
| **Data Storage** | localStorage (client-side only) |
| **Data Source** | CSV Import (~2,490 rows ‡πÉ‡∏ô `template_final.csv`) |
| **Authentication** | ‡πÑ‡∏°‡πà‡∏°‡∏µ |
| **Features ‡∏ó‡∏µ‡πà‡∏°‡∏µ** | Dashboard, Zone/Bin View, CSV Import, Global Search, QR Label Print |

### ‚ö†Ô∏è ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ

1. **‡πÑ‡∏°‡πà‡∏°‡∏µ Database** ‚Äî ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô localStorage ‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠ clear browser
2. **‡πÑ‡∏°‡πà‡∏°‡∏µ User/Auth** ‚Äî ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
3. **‡πÑ‡∏°‡πà‡∏°‡∏µ Stock Counting** ‚Äî ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏ö stock, ‡πÑ‡∏°‡πà‡∏°‡∏µ audit trail
4. **‡πÑ‡∏°‡πà‡∏°‡∏µ CRUD ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤** ‚Äî ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏¢‡πâ‡∏≤‡∏¢ location ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
5. **‡πÑ‡∏°‡πà Mobile Friendly** ‚Äî ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Desktop ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å

---

## 2. Supabase Database Design

### 2.1 ER Diagram

```mermaid
erDiagram
    users {
        uuid id PK
        text username UK
        text display_name
        text role
        boolean is_active
        timestamptz created_at
    }

    zones {
        uuid id PK
        text name UK
        text type
        int sort_order
        timestamptz created_at
    }

    bins {
        uuid id PK
        text bin_code UK
        uuid zone_id FK
        text shelf
        int level
        boolean is_active
        timestamptz created_at
    }

    products {
        uuid id PK
        text product_code UK
        text product_name
        text unit
        text ns_code UK
        text ns_name
        text ns_sub_group
        boolean is_active
        timestamptz created_at
        timestamptz updated_at
    }

    inventory {
        uuid id PK
        uuid product_id FK
        uuid bin_id FK
        int qty
        timestamptz updated_at
        uuid updated_by FK
    }

    stock_counts {
        uuid id PK
        text batch_name
        int count_month
        int count_year
        text status
        uuid created_by FK
        timestamptz created_at
        timestamptz completed_at
        text notes
    }

    stock_count_zones {
        uuid id PK
        uuid stock_count_id FK
        uuid zone_id FK
        text status
        int total_items
        int counted_items
        timestamptz completed_at
    }

    stock_count_items {
        uuid id PK
        uuid stock_count_id FK
        uuid stock_count_zone_id FK
        uuid product_id FK
        uuid bin_id FK
        int system_qty
        int counted_qty
        int variance
        text status
        uuid counted_by FK
        timestamptz counted_at
        text notes
    }

    inventory_logs {
        uuid id PK
        uuid product_id FK
        uuid bin_id_from FK
        uuid bin_id_to FK
        text action
        int qty_before
        int qty_after
        uuid performed_by FK
        timestamptz created_at
        text notes
    }

    users ||--o{ inventory : "updated_by"
    users ||--o{ stock_counts : "created_by"
    users ||--o{ stock_count_items : "counted_by"
    users ||--o{ inventory_logs : "performed_by"
    zones ||--o{ bins : "has"
    zones ||--o{ stock_count_zones : "scope"
    bins ||--o{ inventory : "stored_in"
    products ||--o{ inventory : "tracked_as"
    stock_counts ||--o{ stock_count_zones : "includes"
    stock_counts ||--o{ stock_count_items : "contains"
    stock_count_zones ||--o{ stock_count_items : "grouped"
    products ||--o{ stock_count_items : "counted"
    bins ||--o{ stock_count_items : "location"
```

### 2.2 ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á

#### `users` ‚Äî ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (3 Roles)

| Column | Type | Description |
|--------|------|-------------|
| id | uuid (PK) | |
| username | text (UNIQUE) | `admin`, `warehouse1`, `accounting1` |
| display_name | text | ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• |
| role | text | `admin` / `warehouse` / `accounting` |
| is_active | boolean | default true |

**‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏° Role:**

| Feature | Admin | Warehouse | Accounting |
|---------|-------|-----------|------------|
| ‡∏î‡∏π Dashboard / Zone / Bin | ‚úÖ | ‚úÖ | ‚úÖ |
| CRUD ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ + ‡∏¢‡πâ‡∏≤‡∏¢ Location | ‚úÖ | ‚úÖ | ‚ùå |
| ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö Stock | ‚úÖ | ‚ùå | ‚ùå |
| ‡∏ô‡∏±‡∏ö Stock (‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô) | ‚úÖ | ‚úÖ | ‚ùå |
| ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Stock | ‚úÖ | ‚úÖ | ‚úÖ |
| Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô | ‚úÖ | ‚ùå | ‚úÖ |
| Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‚úÖ | ‚ùå | ‚ùå |
| ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ | ‚úÖ | ‚ùå | ‚ùå |

> **Best Practice:** ‡πÉ‡∏ä‡πâ simulated login (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å user ‡∏à‡∏≤‡∏Å dropdown) ‚Äî ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏£‡∏π‡πâ "‡πÉ‡∏Ñ‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"

#### `zones` ‚Äî ‡πÇ‡∏ã‡∏ô/‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà

| Column | Type | Description |
|--------|------|-------------|
| name | text (UNIQUE) | ‡πÄ‡∏ä‡πà‡∏ô `A`, `B`, `Premium`, `Cutsize` |
| type | text | `standard` / `special` |
| sort_order | int | ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• |

#### `bins` ‚Äî ‡∏ä‡πà‡∏≠‡∏á/‡∏ñ‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö

| Column | Type | Description |
|--------|------|-------------|
| bin_code | text (UNIQUE) | ‡πÄ‡∏ä‡πà‡∏ô `OB_Non A1-1`, `OB_Cutsize` |
| zone_id | uuid (FK) | |
| shelf | text | ‡πÄ‡∏ä‡πà‡∏ô `A1`, `Bulk Storage` |
| level | int | ‡∏ä‡∏±‡πâ‡∏ô |

#### `products` ‚Äî ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Master Data)

| Column | Type | Description |
|--------|------|-------------|
| product_code | text (UNIQUE) | ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏° |
| ns_code | text (UNIQUE) | **Key ‡∏´‡∏•‡∏±‡∏Å‡∏ï‡∏≠‡∏ô import** |
| product_name | text | |
| ns_name / unit / ns_sub_group | text | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡∏£‡∏¥‡∏° |

#### `inventory` ‚Äî ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

| Column | Type | Constraint |
|--------|------|-----------|
| product_id | uuid (FK) | |
| bin_id | uuid (FK) | |
| qty | int | ‚â• 0 |
| updated_by | uuid (FK) | |

> **UNIQUE:** `(product_id, bin_id)` ‚Äî ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ 1 bin ‡∏°‡∏µ record ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

#### `stock_counts` ‚Äî ‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö Stock (Header)

| Column | Type | Description |
|--------|------|-------------|
| batch_name | text | ‡πÄ‡∏ä‡πà‡∏ô `"‡∏ô‡∏±‡∏ö Stock ‡∏Å.‡∏û. 2026"` |
| count_month | int | 1‚Äì12 (‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö) |
| count_year | int | ‡∏õ‡∏µ ‡∏Ñ.‡∏®. |
| status | text | `draft` ‚Üí `in_progress` ‚Üí `completed` |
| created_by | uuid (FK) | Admin ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á |
| completed_at | timestamptz | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö |

#### `stock_count_zones` ‚Äî Zone ‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏°‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö (**NEW**)

| Column | Type | Description |
|--------|------|-------------|
| stock_count_id | uuid (FK) | |
| zone_id | uuid (FK) | Zone ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å |
| status | text | `pending` ‚Üí `in_progress` ‚Üí `completed` |
| total_items | int | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô zone |
| counted_items | int | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß |
| completed_at | timestamptz | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà zone ‡∏ô‡∏µ‡πâ‡∏ô‡∏±‡∏ö‡∏Ñ‡∏£‡∏ö 100% |

> **‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:** ‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏ä‡∏±‡∏î‡∏ß‡πà‡∏≤ zone ‡πÑ‡∏´‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß zone ‡πÑ‡∏´‡∏ô‡∏¢‡∏±‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠

#### `stock_count_items` ‚Äî ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö (Line Items)

| Column | Type | Description |
|--------|------|-------------|
| stock_count_id | uuid (FK) | |
| stock_count_zone_id | uuid (FK) | link ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà zone |
| product_id / bin_id | uuid (FK) | |
| system_qty | int | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏ì ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö |
| counted_qty | int | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (**NULL = ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö**) |
| variance | int | `counted_qty - system_qty` (computed) |
| status | text | `pending` / `counted` / `verified` |
| counted_by | uuid (FK) | |

#### `inventory_logs` ‚Äî Audit Trail

| Column | Type | Description |
|--------|------|-------------|
| action | text | `move` / `adjust` / `import` / `count_adjust` |
| bin_id_from / bin_id_to | uuid (FK, nullable) | ‡∏Å‡∏£‡∏ì‡∏µ‡∏¢‡πâ‡∏≤‡∏¢ |
| qty_before / qty_after | int | |
| performed_by | uuid (FK) | |

---

## 3. Stock Counting ‚Äî Best Practice Design

### 3.1 Workflow Overview

```mermaid
graph TD
    A["1. Admin ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö\n(‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Zone + ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ + ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)"] --> B["2. ‡∏£‡∏∞‡∏ö‡∏ö Snapshot\nsystem_qty ‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\n‡πÉ‡∏ô Zone ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"]
    B --> C["3. Warehouse ‡πÄ‡∏õ‡∏¥‡∏î‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠\nScan/‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‚Üí ‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô"]
    C --> D{"4. ‡∏ô‡∏±‡∏ö‡∏Ñ‡∏£‡∏ö\n‡∏ó‡∏∏‡∏Å Zone?"}
    D -- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö --> E["‡∏î‡∏π Zone Status\n‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ zone ‡πÑ‡∏´‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠\n‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö"]
    E --> C
    D -- ‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß --> F["5. Admin ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß Variance\n‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö"]
    F --> G{"6. Approve\n‡∏´‡∏£‡∏∑‡∏≠ ‡∏ô‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà?"}
    G -- ‡∏ô‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà --> C
    G -- Approve --> H["7. ‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö\n(status = completed)"]
    H --> I["8. Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\nCSV/Excel ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"]
```

### 3.2 Zone Tracking Dashboard (Desktop)

```
‚îå‚îÄ ‡∏ô‡∏±‡∏ö Stock ‡∏Å.‡∏û. 2026 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏ß‡∏°: 245/350 items (70%)  [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë] 70%        ‚îÇ
‚îÇ                                                           ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ ‚îÇ Zone A   ‚îÇ ‚îÇ Zone B   ‚îÇ ‚îÇ Zone C   ‚îÇ ‚îÇ Premium  ‚îÇ     ‚îÇ
‚îÇ ‚îÇ ‚úÖ 100%  ‚îÇ ‚îÇ üîÑ 60%   ‚îÇ ‚îÇ ‚è≥ 0%    ‚îÇ ‚îÇ ‚úÖ 100%  ‚îÇ     ‚îÇ
‚îÇ ‚îÇ 85/85    ‚îÇ ‚îÇ 42/70    ‚îÇ ‚îÇ 0/120    ‚îÇ ‚îÇ 75/75    ‚îÇ     ‚îÇ
‚îÇ ‚îÇ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‚îÇ ‚îÇ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏±‡∏ö  ‚îÇ ‚îÇ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏° ‚îÇ ‚îÇ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‚îÇ     ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                                           ‚îÇ
‚îÇ [ üìã ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏ö ]  [ üìä ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Variance ]     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3.3 Mobile Counting Screen

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìã ‡∏ô‡∏±‡∏ö Stock ‡∏Å.‡∏û. 2026      ‚îÇ
‚îÇ Zone B  üîÑ 42/70 (60%)     ‚îÇ  ‚Üê Sticky: Zone + Progress
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ üîç [  Scan QR / ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤   ] ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ üì¶ OB_Non B1-1         ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡πÅ‡∏ü‡πâ‡∏°‡∏™‡∏±‡∏ô‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏ä‡πâ‡∏≤‡∏á 120  ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡∏£‡∏∞‡∏ö‡∏ö: 87               ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ: [     87     ] ‚îÇ ‚îÇ  ‚Üê ‡∏ä‡πà‡∏≠‡∏á input ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà
‚îÇ ‚îÇ      [ ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ]      ‚îÇ ‚îÇ  ‚Üê ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà ‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢
‚îÇ ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á        ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡∏£‡∏∞‡∏ö‡∏ö: 22               ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ: [     __     ] ‚îÇ ‚îÇ  ‚Üê ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏£‡∏≠‡∏Å
‚îÇ ‚îÇ      [ ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ]      ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ ‚úÖ ‡∏ô‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß 2  ‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 5    ‚îÇ  ‚Üê ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Bin ‡∏ô‡∏µ‡πâ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  üè†    üì¶    üìã    üîç    ‚öôÔ∏è ‚îÇ  ‚Üê Bottom Nav
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Key UX Points:**
- **Scan QR ‡∏ó‡∏µ‡πà Bin** ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô Bin ‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏û‡∏£‡πâ‡∏≠‡∏° auto-focus input ‡πÅ‡∏£‡∏Å
- **Save ‡∏ó‡∏µ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£** ‚Üí ‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏ó‡∏≥‡∏ó‡∏±‡πâ‡∏á bin
- **‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç input ‡πÉ‡∏´‡∏ç‡πà** ‚Üí ‡πÉ‡∏ä‡πâ `type="number"` + `inputmode="numeric"` ‡πÄ‡∏õ‡∏¥‡∏î numpad
- **‡∏™‡∏µ‡∏ö‡πà‡∏á‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞** ‚Üí ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß = ‡∏ô‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß, ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á = pending, ‡πÅ‡∏î‡∏á = ‡∏°‡∏µ variance

### 3.4 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏ö (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏Å‡∏´‡∏•‡πà‡∏ô)

```
‚îå‚îÄ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏ö ‚îÄ Zone B ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Filter: [ ‡∏ó‡∏∏‡∏Å Bin ‚ñº ]               ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ üì¶ OB_Non B1-3                       ‚îÇ
‚îÇ  ‚Ä¢ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© A4 Double A (‡∏£‡∏∞‡∏ö‡∏ö: 150)   ‚îÇ
‚îÇ  ‚Ä¢ ‡∏î‡∏¥‡∏ô‡∏™‡∏≠ 2B ‡∏ï‡∏£‡∏≤‡∏°‡πâ‡∏≤ (‡∏£‡∏∞‡∏ö‡∏ö: 300)      ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ üì¶ OB_Non B2-1                       ‚îÇ
‚îÇ  ‚Ä¢ ‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏•‡∏π‡∏Å‡∏•‡∏∑‡πà‡∏ô (‡∏£‡∏∞‡∏ö‡∏ö: 87)          ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ ‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å 28 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£                 ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ [ üì∑ Scan ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö ]             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3.5 ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö + ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô

```
‚îå‚îÄ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö Stock ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‡∏õ‡∏µ: [ 2026 ‚ñº ]                                        ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ   ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô   ‚îÇ  Zones   ‚îÇ Items  ‚îÇVariance ‚îÇ  Status  ‚îÇ ‚îÇ
‚îÇ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ ‚îÇ ‡∏Å.‡∏û. 2026‚îÇ A,B,Prem ‚îÇ350/350 ‚îÇ  -12    ‚îÇ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à   ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡∏°.‡∏Ñ. 2026‚îÇ ‡∏ó‡∏∏‡∏Å Zone ‚îÇ420/420 ‚îÇ   -5    ‚îÇ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à   ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‡∏ò.‡∏Ñ. 2025‚îÇ A,B,C    ‚îÇ280/280 ‚îÇ  -18    ‚îÇ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à   ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ ‡∏Å‡∏î‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‚Üí breakdown ‡∏ï‡πà‡∏≠ Zone          ‚îÇ
‚îÇ [ üì• Export Excel ]                                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Export):**

| ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | Zone | Bin | Product | NS Code | System Qty | Counted | Variance | ‡∏ô‡∏±‡∏ö‡πÇ‡∏î‡∏¢ | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö |
|-------|------|-----|---------|---------|-----------|---------|---------|-------|---------|
| ‡∏Å.‡∏û. | A | A1-1 | ‡πÅ‡∏ü‡πâ‡∏°‡∏™‡∏±‡∏ô‡∏Å‡∏ß‡πâ‡∏≤‡∏á | 2CT-FS-01-004 | 87 | 85 | -2 | warehouse1 | 13/02/26 |
| ‡∏Å.‡∏û. | A | A1-1 | ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© A4 | 2CT-PB-04-095 | 22 | 22 | 0 | warehouse1 | 13/02/26 |

---

## 4. Import Strategy ‚Äî Upsert in Transaction

### 4.1 ‡∏ó‡∏≥‡πÑ‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Upsert in Transaction

| ‡∏ß‡∏¥‡∏ò‡∏µ | ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ | ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ | ‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á |
|------|------|--------|-------------|
| **Full Replace** | ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î | ‡∏•‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô ‚Üí ‡∏ñ‡πâ‡∏≤ import ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏≤‡∏¢** | üî¥ ‡∏™‡∏π‡∏á |
| **Delete + Insert** | ‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏ä‡∏±‡∏î | ‡∏°‡∏µ‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡πà‡∏≤‡∏á ‚Üí user ‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á | üü° ‡∏Å‡∏•‡∏≤‡∏á |
| **‚úÖ Upsert in Transaction** | ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ + Performance ‡∏î‡∏µ | ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ | üü¢ ‡∏ï‡πà‡∏≥ |

### 4.2 Upsert Flow

```mermaid
graph TD
    A["1. Upload CSV\n(NS Code + Qty)"] --> B["2. Parse + Validate\nClient-side"]
    B --> C["3. ‡πÅ‡∏™‡∏î‡∏á Preview\n‚úÖ Matched | ‚ö†Ô∏è Unmatched | üìù Changes"]
    C --> D{"4. User Confirm?"}
    D -- No --> A
    D -- Yes --> E["5. BEGIN TRANSACTION"]
    E --> F["6. Loop ‡πÅ‡∏ï‡πà‡∏•‡∏∞ row:\nUPSERT inventory\nSET qty = new_qty\nWHERE ns_code match"]
    F --> G["7. INSERT inventory_logs\n(action = 'import')"]
    G --> H{"8. Error?"}
    H -- Yes --> I["ROLLBACK\n‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô\n‡πÅ‡∏à‡πâ‡∏á Error"]
    H -- No --> J["COMMIT\n‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"]
    J --> K["9. ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏£‡∏∏‡∏õ\nUpdated: 245\nSkipped: 3\nErrors: 0"]
```

### 4.3 Preview ‡∏Å‡πà‡∏≠‡∏ô Import

```
‚îå‚îÄ Preview Import ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ File: stock_update_feb2026.csv (248 rows)             ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ ‚úÖ Matched (245 rows)                                  ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ NS Code         ‚îÇ Product      ‚îÇ  ‡πÄ‡∏î‡∏¥‡∏° ‚Üí  ‡πÉ‡∏´‡∏°‡πà    ‚îÇ ‚îÇ
‚îÇ ‚îÇ 2CT-FS-01-004   ‚îÇ ‡πÅ‡∏ü‡πâ‡∏°‡∏™‡∏±‡∏ô‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‚îÇ  87  ‚Üí  90  (+3) ‚îÇ ‚îÇ
‚îÇ ‚îÇ 2CT-PB-04-095   ‚îÇ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ï‡πà‡∏≠..  ‚îÇ  22  ‚Üí  25  (+3) ‚îÇ ‚îÇ
‚îÇ ‚îÇ 2CT-PS-03-020   ‚îÇ ‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏•‡∏π‡∏Å..  ‚îÇ  50  ‚Üí  50  (=)  ‚îÇ ‚îÇ
‚îÇ ‚îÇ ... (242 more)                                    ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö (3 rows) ‚Äî ‡∏à‡∏∞‡∏Ç‡πâ‡∏≤‡∏°                      ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ NS Code         ‚îÇ Qty ‚îÇ ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏                  ‚îÇ ‚îÇ
‚îÇ ‚îÇ 2CT-XX-99-001   ‚îÇ 10  ‚îÇ ‡πÑ‡∏°‡πà‡∏û‡∏ö ns_code ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö      ‚îÇ ‚îÇ
‚îÇ ‚îÇ ...                                               ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ [ ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å ]                        [ ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô Import ] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> **Safety:** ‡∏ñ‡πâ‡∏≤ import ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á ‚Üí **ROLLBACK** ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏•‡∏¢

---

## 5. Role-Based Features

### 5.1 Login Screen

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üè≠ DDS Warehouse                   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ üî¥ Admin (‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö)       ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ üü¢ Warehouse 1 (‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ üîµ Accounting 1 (‡∏ö‡∏±‡∏ç‡∏ä‡∏µ)      ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö ]                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 5.2 Feature Access by Role

**Admin** ‚Äî ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á: CRUD, ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡∏ô‡∏±‡∏ö, Import, Export, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ User

**Warehouse** ‚Äî ‡∏î‡∏π Dashboard, ‡∏ô‡∏±‡∏ö Stock (‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô), CRUD ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤, ‡∏¢‡πâ‡∏≤‡∏¢ Location, ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô

**Accounting** ‚Äî ‡∏î‡∏π Dashboard, ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Stock, Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô (read-only ‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)

---

## 6. CRUD ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ + ‡∏¢‡πâ‡∏≤‡∏¢ Location

### 6.1 Product Detail (‡∏Å‡∏î‡∏à‡∏≤‡∏Å BinDetail)

```
‚îå‚îÄ Product: ‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏•‡∏π‡∏Å‡∏•‡∏∑‡πà‡∏ô Quantum ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ NS Code: 2CT-WC-01-029               ‚îÇ
‚îÇ Location: OB_Non H2-2                ‚îÇ
‚îÇ Qty: 400 EA                          ‚îÇ
‚îÇ                                       ‚îÇ
‚îÇ [ ‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ]  [ üì¶ ‡∏¢‡πâ‡∏≤‡∏¢ Location ] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 6.2 Modal ‡∏¢‡πâ‡∏≤‡∏¢ Location

```
‚îå‚îÄ ‡∏¢‡πâ‡∏≤‡∏¢ Location ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: ‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏•‡∏π‡∏Å‡∏•‡∏∑‡πà‡∏ô Quantum         ‚îÇ
‚îÇ ‡∏à‡∏≤‡∏Å: OB_Non H2-2                     ‚îÇ
‚îÇ                                       ‚îÇ
‚îÇ ‡πÑ‡∏õ‡∏¢‡∏±‡∏á: [ üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ / Scan Bin ]       ‚îÇ
‚îÇ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡πâ‡∏≤‡∏¢: [ 100 ] / 400          ‚îÇ
‚îÇ                                       ‚îÇ
‚îÇ [ ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å ]          [ ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ ]  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

- ‡∏¢‡πâ‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î = ‡∏•‡∏ö‡∏à‡∏≤‡∏Å bin ‡πÄ‡∏î‡∏¥‡∏°, ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà bin ‡πÉ‡∏´‡∏°‡πà
- ‡∏¢‡πâ‡∏≤‡∏¢‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô = ‡∏•‡∏î qty bin ‡πÄ‡∏î‡∏¥‡∏°, ‡πÄ‡∏û‡∏¥‡πà‡∏° qty bin ‡πÉ‡∏´‡∏°‡πà
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å `inventory_logs` (action = `move`)

---

## 7. Search + Scan (Barcode/QR)

**‡∏£‡∏ß‡∏°‡∏ä‡πà‡∏≠‡∏á Search + Scan ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üîç [ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ / Scan barcode...  ] üì∑  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

- **‡∏û‡∏¥‡∏°‡∏û‡πå** ‚Üí autocomplete ‡∏à‡∏≤‡∏Å product code, ns code, ‡∏ä‡∏∑‡πà‡∏≠
- **‡∏Å‡∏î üì∑** ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á
  - Scan **QR ‡∏Ç‡∏≠‡∏á Bin** ‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ BinDetail
  - Scan **Barcode ‡∏Ç‡∏≠‡∏á Product** ‚Üí ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ + ‡πÅ‡∏™‡∏î‡∏á location
- Library: **`html5-qrcode`** (QR + barcode, web-based)

---

## 8. Mobile-First Design

> **‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î:** ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ô‡∏±‡∏ö stock ‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á ‡∏ñ‡∏∑‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏°‡∏∑‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

### Design Principles

| ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|---------|-----------|
| **Big Touch Targets** | ‡∏õ‡∏∏‡πà‡∏° ‚â• 48px, ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á ‚â• 8px |
| **Single Hand Use** | ‡∏õ‡∏∏‡πà‡∏° action ‡∏≠‡∏¢‡∏π‡πà‡∏•‡πà‡∏≤‡∏á‡∏à‡∏≠ (thumb zone) |
| **Progressive Disclosure** | ‡πÅ‡∏™‡∏î‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡πà‡∏≠‡∏ô ‡∏Å‡∏î‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° |
| **Instant Feedback** | Toast ‡πÄ‡∏°‡∏∑‡πà‡∏≠ save ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à |
| **Large Font for Qty** | ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡∏ç‡πà ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡πÅ‡∏™‡∏á‡∏à‡πâ‡∏≤ |
| **Sticky Header** | Bin/Zone ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡∏ï‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏™‡∏°‡∏≠ |
| **Numeric Keypad** | `inputmode="numeric"` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á qty |

### Responsive Breakpoints

| Screen | Layout |
|--------|--------|
| **Mobile** (< 640px) | Single column, bottom nav, large buttons |
| **Tablet** (640‚Äì1024px) | 2 columns, side panel |
| **Desktop** (> 1024px) | Layout ‡πÄ‡∏î‡∏¥‡∏° + ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á |

### Bottom Navigation (Mobile Only)

```
‚îÇ  üè†    üì¶    üìã    üîç    ‚öôÔ∏è  ‚îÇ
‚îÇ Home  Stock Count Search Set‚îÇ
```

---

## 9. Tech Stack

| ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ | Library | ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• |
|-----------|---------|--------|
| Supabase Client | `@supabase/supabase-js` | Official SDK |
| QR/Barcode Scan | `html5-qrcode` | QR+Barcode, web-based |
| Export Excel | `xlsx` (SheetJS) | ‡∏™‡∏£‡πâ‡∏≤‡∏á .xlsx ‡∏ù‡∏±‡πà‡∏á client |
| Date Formatting | `date-fns` | Lightweight |
| State Management | React Context | ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ |

---

## 10. Route Planning

| Route | Page | Role Access |
|-------|------|------------|
| `/login` | LoginPage | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô |
| `/` | Dashboard | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô |
| `/zone/:id` | ZoneDetail | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô |
| `/bin/:id` | BinDetail | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô (CRUD: Admin+Warehouse) |
| `/product/:id` | ProductDetail | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô (Edit: Admin+Warehouse) |
| `/stock-count` | StockCountList | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô |
| `/stock-count/new` | CreateStockCount | Admin only |
| `/stock-count/:id` | StockCountSession | Admin+Warehouse |
| `/stock-count/:id/report` | StockCountReport | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô |
| `/stock-count/history` | StockCountHistory | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô |
| `/scan` | ScanPage | ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô |
| `/import` | ImportPage | Admin only |
| `/print` | PrintPage | Admin+Warehouse |

---

## 11. Implementation Order

```mermaid
graph LR
    A["1Ô∏è‚É£ Supabase Setup\n+ Migration\n+ Seed Data"] --> B["2Ô∏è‚É£ Simulated Login\n+ Role Context\n+ Route Guard"]
    B --> C["3Ô∏è‚É£ Connect Frontend\nto Supabase\n+ Mobile Nav"]
    C --> D["4Ô∏è‚É£ CRUD Products\n+ Move Location\n+ Audit Logs"]
    D --> E["5Ô∏è‚É£ Import CSV\nUpsert by NS Code"]
    E --> F["6Ô∏è‚É£ Stock Counting\nZone Select + Mobile UI"]
    F --> G["7Ô∏è‚É£ Report +\nHistory + Export"]
    G --> H["8Ô∏è‚É£ Scan Feature\n+ Final Polish"]
```

| Step | ‡∏á‡∏≤‡∏ô | ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÄ‡∏ß‡∏•‡∏≤ |
|------|------|-----------|
| 1 | ‡∏™‡∏£‡πâ‡∏≤‡∏á Supabase `dds-bin-location` + migration + seed | 1 session |
| 2 | Login + AuthContext + role-based route guard | 1 session |
| 3 | ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô WarehouseContext ‚Üí Supabase + bottom nav | 1 session |
| 4 | CRUD Product + Move Location + Logs | 1‚Äì2 sessions |
| 5 | Import CSV (upsert in transaction) | 1 session |
| 6 | Stock Counting (create ‚Üí zone select ‚Üí count ‚Üí verify) | 2 sessions |
| 7 | Report + History + Export CSV/Excel | 1 session |
| 8 | Barcode/QR Scan + Mobile polish | 1 session |

---

## 12. Security & Best Practices

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á |
|--------|--------|
| **RLS** | ‡πÄ‡∏õ‡∏¥‡∏î RLS ‡∏ó‡∏∏‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á + anon read policy |
| **Audit Trail** | ‡∏ó‡∏∏‡∏Å mutation ‚Üí `inventory_logs` |
| **Transaction** | Import ‡πÉ‡∏ä‡πâ transaction (rollback on error) |
| **Validation** | Client-side (UX) + DB constraint (safety) |
| **Role Guard** | Frontend route guard + ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏° role |
| **Optimistic UI** | Stock counting: update UI ‡∏Å‡πà‡∏≠‡∏ô ‚Üí sync ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á |
| **Error Handling** | Toast error + retry option |

---

## 13. Verification Plan

### Automated (Browser Testing)
1. **Supabase Connection** ‚Äî ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Dashboard ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Supabase ‡πÑ‡∏î‡πâ
2. **Login Flow** ‚Äî ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å user ‚Üí ‡πÄ‡∏´‡πá‡∏ô navbar ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‚Üí role guard ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
3. **CRUD** ‚Äî ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Supabase
4. **Import** ‚Äî upload CSV ‚Üí preview ‚Üí confirm ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö qty ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
5. **Stock Count** ‚Äî ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≠‡∏ö ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å zone ‚Üí ‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö variance

### Manual (User Testing)
- **Mobile Testing** ‚Äî ‡πÄ‡∏õ‡∏¥‡∏î‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏à‡∏£‡∏¥‡∏á ‡∏ó‡∏î‡∏™‡∏≠‡∏ö bottom nav, scan, ‡∏Å‡∏£‡∏≠‡∏Å qty
- **Export** ‚Äî ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Excel ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö header ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ + ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- **Role Permission** ‚Äî login ‡πÄ‡∏õ‡πá‡∏ô Accounting ‚Üí ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Import ‚Üí ‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏ô/disabled
